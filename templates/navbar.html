{% load static %}

<header class="p-3 navbar navbar-expand-lg bg-dark" data-bs-theme="dark">
  <div class="container">
    <a class="navbar-brand ms-5 font-monospace fw-bold" href="{% url 'home' %}">GM-E</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse d-flex justify-content-lg-end" id="navbarSupportedContent">

      <div class="d-flex form-inline my-2 my-lg-0 ml-5 align-items-center">
        <a href="{% url 'cart_page' %}">
          <img id="cart-icon" src="{% static 'images/cart.png' %}" alt="Imagen carrito">
        </a>
        <p id="cart-total">{{ quantity }}</p>
        {% if not user.is_authenticated %}
        <div class="text-end ms-4 me-5">
          <a href="{% url 'login' %}" type="button" class="btn btn-outline-dark me-2 rounded-2 text-white font-monospace">Sign-in</a>
          <a href="{% url 'register' %}" type="button" class="btn btn-outline-dark rounded-2 text-white font-monospace">Sign-up</a>
        </div>
        {% else %}
        <div class="dropdown text-start ms-4 me-5">
          <!-- d-block link-body-emphasis text-decoration-none dropdown-toggle -->
          <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <img src="http://127.0.0.1:8000{{ user.photo.url }}" alt="mdo" width="32" height="32" class="rounded-circle">
          </a>
          <ul class="dropdown-menu dropdown-menu-end text-small">
            <li><a class="dropdown-item" href="{% url 'my_orders' %}">My Orders</a></li>
            <li><a class="dropdown-item" href="{% url 'my_profile' %}">My Profile</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="{% url 'logout' %}">Sign out</a></li>
          </ul>
        </div>
        {% endif %}
      </div>

    </div>
  </div>
</header>